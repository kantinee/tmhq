<!DOCTYPE HTML>

<html>
		<head>
			<title>TMHQ</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1" />
			<link rel="stylesheet" href="assets/css/main.css" />
		</head>
	<body class="subpage">
		<!-- Header -->
			<header id="header">
				<div class="logo"><a href="http://1.179.246.105:8080/jubjai/landingPage/"> JubJai <span>by PorDeeKum.AI</span></a></div>
			</header>

		<!-- Main -->
			<div id="main">
				<section class="wrapper style1">
					<div class="inner">
						<header class="align-center">
							<h1>TMHQ</h1>
							<p>แบบวัดสุขภาพจิตในคนไทย ด้านภาวะซึมเศร้า (ในรูปแบบ Questionnaire)</p>
						</header>

						<!-- Content -->
						<!-- Blockquote -->
						<h3>ในช่วง 1 เดือนที่ผ่านมา ท่านมีอาการดังต่อไปนี้้หรือไม่ </h3>
						<blockquote >
								<code>ไม่มี </code>	หมายถึง ท่าน <u>ไม่เคย</u>มีหรือไม่เคยรู้สึกเลยในตลอดช่วงระยะเวลา 1 เดือน<br/>
								<code>เล็กน้อย </code>	หมายถึง ท่านเคยมีหรือเคยรู้สึก คือประมาณ <u>ครั้งหรือสองครั้ง</u> ในช่วง 1 เดือน<br/>
								<code>ปานกลาง</code>	 หมายถึง ท่านเคยมีหรือเคยรู้สึกพอประมาณ คือประมาณ <u>สัปดาห์ละครั้ง</u><br/>
								<code>ค่อนข้างมาก</code>หมายถึง ท่านเคยมีหรือเคยรู้สึก <u>หลายๆ ครั้งใน 1 สัปดาห์</u><br/>
								<code>มาก </code> หมายถึง ท่านเคยมีหรือเคยรู้สึกบ่อยมาก คือ <u>เกือบทุกวัน</u> <br/>
						</blockquote>

							

						<hr class="major" />

						<!-- Elements -->
							<h4 id="elements"></h4>
							
								<!-- Form -->
								<form>								
											<div class="row">
												<div class="6u 12u$(small)">
													<h3>1. ฉันรู้สึกเศร้า</h3>
												</div>
												<div class="6u$ 12u$(small)">
														<div class="row uniform">
															<div class="2u">
																<input type="radio" id="q10" name="q1"  ng-model="q1" value="0">
																<label for="q10">ไม่มี</label>
															</div>
															<div class="2u">
																<input type="radio" id="q11" name="q1" ng-model="q1" value="1">
																<label for="q11">เล็กน้อย</label>
															</div>
															<div class="2u">
																<input type="radio" id="q12" name="q1" ng-model="q1" value="2">
																<label for="q12">ปานกลาง</label>
															</div>
															<div class="2u">
																<input type="radio" id="q13"  name="q1" ng-model="q1" value="3">
																<label for="q13">ค่อนข้างมาก</label>
															</div>
															<div class="2u$">
																<input type="radio" id="q14"  name="q1" ng-model="q1" value="4">
																<label for="q14">มาก</label>
															</div>
													
													</div>
												
												</div>

											</div>
											<hr class="major" />
											<div class="row">
													<div class="6u 12u$(small)">
														<h3>2. ฉันรู้สึกไม่มีสมาธิกับงานหรือสิ่งต่างๆที่ทำในชีวิตประจำวัน</h3>
													</div>
													<div class="6u$ 12u$(small)">
															<div class="row uniform">
																<div class="2u">
																	<input type="radio" id="q20" name="q2"  ng-model="q2" value="0">
																	<label for="q20">ไม่มี</label>
																</div>
																<div class="2u">
																	<input type="radio" id="q21" name="q2" ng-model="q2" value="1">
																	<label for="q21">เล็กน้อย</label>
																</div>
																<div class="2u">
																	<input type="radio" id="q22" name="q2" ng-model="q2" value="2">
																	<label for="q22">ปานกลาง</label>
																</div>
																<div class="2u">
																	<input type="radio" id="q23"  name="q2" ng-model="q2" value="3">
																	<label for="q23">ค่อนข้างมาก</label>
																</div>
																<div class="2u$">
																	<input type="radio" id="q24"  name="q2" ng-model="q2" value="4">
																	<label for="q24">มาก</label>
																</div>
														
														</div>
													
													</div>
	
												</div>
												<hr class="major" />
											
											
											<!-- Break -->
											<div class="12u$">
													<ul class="actions">
														<li><input type="button" value="วิเคราะห์ TMHQ " ng-click="verifydata()"  /></li>
													</ul>
											</div>
												
													
												
											
								
							
							</form>
						</div>
					</div>
				</section>
			</div>

		<!-- Footer -->
			<footer id="footer">
				<div class="copyright">
					<ul class="icons">
						
						<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
						
					</ul>
					<p>&copy;PorDeeKum.AI  All rights reserved. </p>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/angular.min.js"></script>
			<script> 
				var myApp = angular.module('postgreSQL',[ ]);  
				var val = window.location.href.toString().split('=')[1];            
				myApp.controller('postgreSQLCtrl', ['$scope' ,'$http',  function($scope,$http) {
					/*$scope.val1 = 'This is temp Val' ;  
					$scope.fName = '';
					$scope.lName = '';
					$scope.email = '';  
					$scope.mbl = '' ;    
					$scope.q1 = '' ;
					$scope.q2 = '' ;   
					$scope.q3 = '' ;
					$scope.q4 = '' ;
					$scope.q5 = '' ;
					$scope.q6 = '' ;
					$scope.q7 = '' ;
					$scope.q8 = '' ;
					$scope.q9 = '' ;
					$scope.q10 = '' ;
					$scope.q11 = '' ;
					$scope.q12 = '' ;
					$scope.q13 = '' ;
					$scope.q14 = '' ;
					$scope.q15 = '' ;
					$scope.q16 = '' ;
					$scope.q17 = '' ;
					$scope.q18 = '' ;
					$scope.q19 = '' ;
					$scope.q20 = '' ;          
					$scope.getAllRec = function(){ 
						 
						 $http({method: 'GET', url: '/db/readRecords'}).
							success(function(data, status) { 
								  $scope.dataset = data; 
															   
							}).
							error(function(data, status) {
							  $scope.dataset = data || "Request failed "; 
						  }); 
					} */
	
					
					$scope.verifydata = function(){ 
						alert($scope.q1);
						/*if ($scope.q1!='') 
							if ($scope.q2!='')
								if ($scope.q3!='')
									if ($scope.q4!='')
										if ($scope.q5!='')
											if ($scope.q6!='')
												if ($scope.q7!='')
													if ($scope.q8!='')
														if ($scope.q9!='')
															if ($scope.q10!='')
																if ($scope.q11!='')
																	if ($scope.q12!='')
																		if($scope.q13!='')
																			if($scope.q14!='')
																				if ($scope.q15!='')
																					if ($scope.q16!='')
																						if ($scope.q17!='')
																							if ($scope.q18!='')
																								if ($scope.q19!='')
																									if ($scope.q20!='')
																										$scope.addRecord(); 
																										
																									else 
																										alert('Please select Q20');
																								else    
																									alert('Please select Q19');
																							else 
																								alert('Please select Q18');
																						else 
																							alert('Please select Q17');
																					else 
																						alert('Please select Q16');
																				else 
																					alert('Please select Q15');
																			else 
																				alert('Please select Q14');
																		else 
																			alert('Please select Q13');
																	else 
																		alert('Please select Q12');
																else 
																	alert('Please select Q11');
															else 
																alert('Please select Q10');
														else 
															alert('Please select Q9');
													else 
														alert('Please select Q8');
												else 
													alert('Please select Q7');
											else 
												alert('Please select Q6');
										else 
											alert('Please select Q5');
									else 
										alert('Please select Q4');
								else 
									alert('Please select Q3');
							else 
								alert('Please select Q2');
						else 
							alert('Please select Q1');
			   		*/
					}
					
					
					$scope.addRecord = function(){ 
									   
						 $http({method: 'GET', url: '/db/addRecord?q1='+$scope.q1+'&q2='+$scope.q2+'&q3='+ $scope.q3 +'&q4='+$scope.q4+'&q5='+$scope.q5+'&q6='+$scope.q6+'&q7='+$scope.q7+'&q8='+$scope.q8+'&q9='+$scope.q9+'&q10='+$scope.q10+'&q11='+$scope.q11+'&q12='+$scope.q12+'&q13='+$scope.q13+'&q14='+$scope.q14+'&q15='+$scope.q15+'&q16='+$scope.q16+'&q17='+$scope.q17+'&q18='+$scope.q18+'&q19='+$scope.q19+'&q20='+$scope.q20+'&fName='+val }).
							success(function(data, status) { 
								
								score = (parseInt($scope.q1)+parseInt($scope.q2)+parseInt($scope.q3)+parseInt($scope.q4)+parseInt($scope.q5)+parseInt($scope.q6)+parseInt($scope.q7)+parseInt($scope.q8)+parseInt($scope.q9)+parseInt($scope.q10)+parseInt($scope.q11)+parseInt($scope.q12)+parseInt($scope.q13)+parseInt($scope.q14)+parseInt($scope.q15)+parseInt($scope.q16)+parseInt($scope.q17)+parseInt($scope.q18)+parseInt($scope.q19)+parseInt($scope.q20))/20;
								score = Math.round(score * 100) / 100;
								
								if (score < 0.20) {
									score_msg = 'คุณไม่มีภาวะซึมเศร้า';
								} else if ((score >= 0.20 ) && (score < 1.09)) {
									score_msg = 'คุณมีอารมณ์เศร้าบ้าง \n แต่อยู่ในระดับปกติที่คนทั่วไปก็สามารถรู้สึกเช่นนี้ได้';
								} else if ((score >= 1.09 ) && (score < 1.38)) {
									score_msg = 'คุณมีภาวะซึมเศร้าปานกลาง \n ควรสังเกตอารมณ์ตนเองอย่างใกล้ชิด ถ้าความรู้สึกเช่นนี้คงอยู่ต่อเนื่องไปอีกประมาณ 2 สัปดาห์ หรือเริ่มรู้สึกว่าสภาพอารมณ์รบกวนการทำงานหรือการใช้ชีวิตประจำวัน ควรขอคำแนะนำหรือความช่วยเหลือจากผู้เชี่ยวชาญด้านสุขภาพจิต หรือโทร 1323 สายด่วนสุขภาพจิตฟรี ตลอด 24 ชั่วโมง';
								} else if (score >= 1.38 ){
									score_msg ='คุณมีความเสี่ยงที่จะอยู่ในภาวะซึมเศร้า \n ควรพบผู้เชี่ยวชาญด้านสุขภาพจิตเพื่อรับการตรวจวินิจฉัยและดูแลอย่างเหมาะสม หรือเริ่มจากโทรปรึกษาสายด่วนสุขภาพจิต 1323 โทรฟรี ตลอด 24 ชั่วโมง';
								} else {
									score_msg ='ระบบไม่สามารถประเมินภาวะซึมเศร้าของคุณได้ \n กรุณา Log in เพื่อทำแบบสอบถามอีกครั้ง หรือ ติดต่อ Admin';
								}
								alert(score_msg);
								
								var dname = 0;
								dname = val.length % 2;
								if (dname == 0){
									
									newDoc('/feedback/'+ val);}
								else {
									
									newDoc('/JubjaiBot');}
								}); 
					
					}
					
					/*$scope.delRecord = function(recId){
						console.log(recId);
						if(confirm('Are you sure you want to delete this record ? '))
						{
							$http({method: 'GET', url: '/db/delRecord?id='+recId}).
								success(function(data, status) {  
										$scope.getAllRec();
								});
						}
					} 
					
					$scope.getAllRec();*/
					
				}]);
				
			</script>
			<script>
					function newDoc(xurl) {
					    window.location.assign(xurl)
					}
			</script>
			
	</body>
	</div>
</html>